import{$ as h,A as i,B as m,Ea as M,F as c,G as u,Ga as N,Ha as L,L as a,N as v,ba as b,ea as _,k as f,la as y,o,p as g,q as d,qa as C,r,ra as p,sa as w,ta as S,wa as x,xa as E,ya as I,z as t}from"./chunk-DOFAOYEJ.js";import"./chunk-LJTGAXLK.js";function T(n,l){n&1&&(t(0,"div",20),a(1," Ingresa un correo v\xE1lido. "),i())}function D(n,l){n&1&&(t(0,"div",20),a(1," M\xEDnimo 6 caracteres. "),i())}function k(n,l){n&1&&(t(0,"span"),a(1,"Iniciar sesi\xF3n"),i())}function G(n,l){n&1&&m(0,"span",21)}function A(n,l){if(n&1&&(t(0,"div",22),a(1),i()),n&2){let s=u();o(),v(" ",s.errorMsg," ")}}var F=class n{fb=f(M);auth=f(L);router=f(y);loading=!1;errorMsg="";showPassword=!1;form=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]});submit(){if(this.errorMsg="",this.form.invalid){this.form.markAllAsTouched();return}this.loading=!0;let{email:l,password:s}=this.form.value;this.auth.login(l,s).subscribe({next:()=>{this.router.navigateByUrl("/dashboard")},error:e=>{this.errorMsg=e?.error?.message||"No pudimos iniciar sesi\xF3n. Verifica tu correo y contrase\xF1a.",this.loading=!1},complete:()=>this.loading=!1})}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=g({type:n,selectors:[["app-login"]],decls:29,vars:9,consts:[[1,"login-wrapper","d-flex","align-items-center","justify-content-center"],[1,"login-card","shadow","p-4","rounded-4"],[1,"text-center","mb-3"],[1,"fa-solid","fa-tooth","fa-2x"],[1,"h4","mt-2","mb-0"],[1,"text-muted"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","email","placeholder","tucorreo@dominio.com","formControlName","email",1,"form-control"],["class","form-text text-danger",4,"ngIf"],[1,"mb-2"],[1,"input-group"],["placeholder","******","formControlName","password",1,"form-control",3,"type"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa",3,"ngClass"],[1,"btn","btn-primary","w-100",3,"disabled"],[4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],["class","alert alert-danger py-2",4,"ngIf"],[1,"form-text","text-danger"],[1,"spinner-border","spinner-border-sm"],[1,"alert","alert-danger","py-2"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),m(3,"i",3),t(4,"h1",4),a(5,"Bienvenido a "),t(6,"strong"),a(7,"DentalPro"),i()(),t(8,"small",5),a(9,"Gesti\xF3n odontol\xF3gica sencilla y ordenada"),i()(),t(10,"form",6),c("ngSubmit",function(){return e.submit()}),t(11,"div",7)(12,"label",8),a(13,"Correo"),i(),m(14,"input",9),d(15,T,2,0,"div",10),i(),t(16,"div",11)(17,"label",8),a(18,"Contrase\xF1a"),i(),t(19,"div",12),m(20,"input",13),t(21,"button",14),c("click",function(){return e.showPassword=!e.showPassword}),m(22,"i",15),i()(),d(23,D,2,0,"div",10),i(),t(24,"div",11)(25,"button",16),d(26,k,2,0,"span",17)(27,G,1,0,"span",18),i()(),d(28,A,2,1,"div",19),i()()()),s&2&&(o(10),r("formGroup",e.form),o(5),r("ngIf",e.form.controls.email.touched&&e.form.controls.email.invalid),o(5),r("type",e.showPassword?"text":"password"),o(2),r("ngClass",e.showPassword?"fa-eye-slash":"fa-eye"),o(),r("ngIf",e.form.controls.password.touched&&e.form.controls.password.invalid),o(2),r("disabled",e.loading),o(),r("ngIf",!e.loading),o(),r("ngIf",e.loading),o(),r("ngIf",e.errorMsg))},dependencies:[_,h,b,N,x,C,w,S,E,I],styles:[".login-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(90deg,#167eb5,#8b5cf6 60%);padding:24px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:420px;background:#fff}"]})};export{F as LoginComponent};
